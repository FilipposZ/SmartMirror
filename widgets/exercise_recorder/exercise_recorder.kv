#:kivy 1.10.1

<CustomButton@Button>:
    text_size: self.width, None
    halign: 'center'
    padding_x: '8dp'
<CustomToggle@ToggleButton>:
    text_size: self.width, None
    halign: 'center'
    padding_x: '8dp'

<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            path: root.video_input_path

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.save_fn(filechooser.path, filechooser.selection)

<ExerciseRecorder>:
    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height
        FloatLayout:
            id: renderer_layout
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.1
            padding: 20, 2
            Label:
                id: mode_label
                color: 0.6, 0.6, 0.6, 1
                text: ''
                text_size: self.width, self.height
            Label:
                id: frame_label
                color: 0.6, 0.6, 0.6, 1
                text: 'pre-start'
                text_size: self.width, self.height
                halign: 'right'
        GridLayout:
            rows: 2
            size_hint_y: 0.15
            spacing: '2dp', '5dp'
            Spinner:
                id: spin_1
                text: 'Render'
                values: 'monkey', 'monkey_no_norms', 'random', 'smpl_mesh', 'smpl_kpnts'
                on_text: root.render(self.text)
            CustomButton:
                text: 'Save exercise from file'
                on_release: root.show_load_dialog()
            Spinner:
                id: playback_spin
                text: 'Playback exercise'
                values: ''
                on_text: root.playback(self.text)
            Spinner:
                id: playtest_spin
                text: 'Playtest exercise'
                values: ''
                on_text: root.playtest(self.text)
            Widget:
            CustomToggle:
                id: tog_1
                text: 'Scale'
                on_state: root.anim_mesh(self.state, 'scale')
            CustomToggle:
                id: tog_2
                text: 'Rotate'
                on_state: root.anim_mesh(self.state, 'rotate')
            CustomToggle:
                id: tog_3
                text: 'Deform'
                on_state: root.anim_mesh(self.state, 'deform')
            CustomButton:
                text: 'Change mesh mode'
                on_release: root.renderer.change_mesh_mode()
            CustomButton:
                text: 'Reset'
                on_release: root.reset_ui()

            